<div class="card">
    <div class="row d-flex align-items-center">
        <div class="col-md-3">
            <label class="form-label"> From Date / To Date </label>
            <p-calendar #cal1 selectionMode="range" [(ngModel)]="rangeDates" placeholder="--select--"
                [ngModelOptions]="{ standalone: true }" [showIcon]="true" inputId="icon" [readonlyInput]="true"
                [dateFormat]="customDateFormat.CalendarFormat" (onSelect)="dateRangeChange(cal1)"
                (onChange)="SearchChart()" [showButtonBar]="true"></p-calendar>
        </div>
        <div class="col-md-3">
            <label class="form-label">
                Select Chart </label>
            <p-dropdown [(ngModel)]="selectedChartMasterId" [required]="true" [options]="lstMaster"
                optionLabel="ChartName" optionValue="ChartMasterId" placeholder="--select--" [style]="{ width: '100%' }"
                [filter]="true" filterPlaceholder="Search Chart Name" (onChange)="SearchChart()">
            </p-dropdown>
        </div>

        <div class="col-md-6 d-flex mt-3">
            <span class="p-ml-left mr-4">
                <button pButton title="Create" label="Create Chart" (click)="OpenChart(selectedChartMasterId)"></button>
                <span class="total-txt"> </span>
            </span>
            <div>
                <span class="p-ml-left">
                    <button pButton title="Clear" label="Clear Search" (click)="ResetModel()"></button>
                    <span class="total-txt"> </span>
                </span>
            </div>
        </div>

        <p-table #dt [value]="chartDashboardList" responsiveLayout="scroll" class="mt-4"
            styleClass="p-datatable-striped" [rowHover]="true" [globalFilterFields]="['ChartName,ModifiedOn']"
            [scrollable]="true" scrollHeight="calc(100vh - 155px)">
            <ng-template pTemplate="emptymessage" let-columns>
                <tr>
                    <td [attr.colspan]="columns?.length">No records found</td>
                </tr>
            </ng-template>
            <ng-template pTemplate="header">
                <tr>
                    <th pSortableColumn="ChartName">Chart Name</th>
                    <th>Updated By</th>
                    <th>Designation</th>
                    <!-- <th>Status</th> -->
                    <th>Last Update</th>
                    <!-- <th>Actions</th> -->
                </tr>
            </ng-template>
            <ng-template pTemplate="body" let-dt let-i="rowIndex">
                <tr>
                    <td>{{ dt.ChartName }}</td>
                    <td>{{ dt.ModifiedBy }}</td>
                    <td>{{ dt.ModifiedByDesignation }}</td>
                    <!-- <td>
                        {{ dt.IsCompleted == 1 ? "Completed" : "Incomplete" }}
                    </td> -->
                    <td>
                        {{
                        dt.ModifiedOn
                        | date : customDateFormat.DEF_DATE_TIME
                        }}
                    </td>
                    <!-- <td>
                        <a
                            title="View"
                            (click)="OpenChart(dt.ChartMasterId, dt, false)"
                        >
                            <i class="fa fa-eye" aria-hidden="true"></i>
                        </a>
                        <span style="margin-left: 10px"></span>
                        
                        <a
                            title="Edit"
                            (click)="OpenChart(dt.ChartMasterId, dt, true)"
                        >
                            <i class="fa fa-pencil" aria-hidden="true"></i>
                        </a>
                    </td> -->
                </tr>
            </ng-template>
        </p-table>
    </div>
</div>

<!-- Dynamic Form Component -->

<app-activities-chart [preSelectedChartData]="selectedChartData" (EmitUpdateForm)="EmitUpdateForm($event)" *ngIf="
        ShowChildComponent == true &&
        selectedChartMasterId == ChartTypes.ActivitiesChart
    "></app-activities-chart>

<app-behaviour-chart [preSelectedChartData]="selectedChartData" (EmitUpdateForm)="EmitUpdateForm($event)" *ngIf="
        ShowChildComponent == true &&
        selectedChartMasterId == ChartTypes.BehaviourChart
    "></app-behaviour-chart>

<app-blood-pressure-chart [preSelectedChartData]="selectedChartData" (EmitUpdateForm)="EmitUpdateForm($event)" *ngIf="
        ShowChildComponent == true &&
        selectedChartMasterId == ChartTypes.BloodPressureChart
    "></app-blood-pressure-chart>

<app-fluid-combined-chart [preSelectedChartData]="selectedChartData" (EmitUpdateForm)="EmitUpdateForm($event)" *ngIf="
        ShowChildComponent == true &&
        selectedChartMasterId == ChartTypes.FluidCombinedChart
    "></app-fluid-combined-chart>

<app-infection-chart [preSelectedChartData]="selectedChartData" (EmitUpdateForm)="EmitUpdateForm($event)" *ngIf="
        ShowChildComponent == true &&
        selectedChartMasterId == ChartTypes.InfectionChart
    "></app-infection-chart>

<app-bowel-chart [preSelectedChartData]="selectedChartData" (EmitUpdateForm)="EmitUpdateForm($event)" *ngIf="
        ShowChildComponent == true &&
        selectedChartMasterId == ChartTypes.BowelChart
    "></app-bowel-chart>

<app-enteral-feeding-chart [preSelectedChartData]="selectedChartData" (EmitUpdateForm)="EmitUpdateForm($event)" *ngIf="
        ShowChildComponent == true &&
        selectedChartMasterId == ChartTypes.EnteralFeedingChart
    "></app-enteral-feeding-chart>

<app-adl-chart [preSelectedChartData]="selectedChartData" (EmitUpdateForm)="EmitUpdateForm($event)" *ngIf="
        ShowChildComponent == true &&
        selectedChartMasterId == ChartTypes.ADLChart
    ">
</app-adl-chart>

<app-pain-chart [preSelectedChartData]="selectedChartData" (EmitUpdateForm)="EmitUpdateForm($event)" *ngIf="
        ShowChildComponent == true &&
        selectedChartMasterId == ChartTypes.PainChart
    ">
</app-pain-chart>

<app-weight-chart [preSelectedChartData]="selectedChartData" (EmitUpdateForm)="EmitUpdateForm($event)" *ngIf="
        ShowChildComponent == true &&
        selectedChartMasterId == ChartTypes.WeightChart
    ">
</app-weight-chart>

<app-blood-glucose-chart [preSelectedChartData]="selectedChartData" (EmitUpdateForm)="EmitUpdateForm($event)" *ngIf="
        ShowChildComponent == true &&
        selectedChartMasterId == ChartTypes.BloodGlucoseChart
    ">
</app-blood-glucose-chart>

<app-waterlow-chart [preSelectedChartData]="selectedChartData" (EmitUpdateForm)="EmitUpdateForm($event)" *ngIf="
    ShowChildComponent == true &&
    selectedChartMasterId == ChartTypes.WaterlowChart
"></app-waterlow-chart>

<app-vital-signs-chart [preSelectedChartData]="selectedChartData" (EmitUpdateForm)="EmitUpdateForm($event)" *ngIf="
    ShowChildComponent == true &&
    selectedChartMasterId == ChartTypes.VitalSignsChart
"></app-vital-signs-chart>

<app-urinary-chart [preSelectedChartData]="selectedChartData" (EmitUpdateForm)="EmitUpdateForm($event)" *ngIf="
    ShowChildComponent == true &&
    selectedChartMasterId == ChartTypes.UrinaryChart
"></app-urinary-chart>

<app-sighting-chart [preSelectedChartData]="selectedChartData" (EmitUpdateForm)="EmitUpdateForm($event)" *ngIf="
    ShowChildComponent == true &&
    selectedChartMasterId == ChartTypes.SightingChart
"></app-sighting-chart>

<app-seizure-chart [preSelectedChartData]="selectedChartData" (EmitUpdateForm)="EmitUpdateForm($event)" *ngIf="
    ShowChildComponent == true &&
    selectedChartMasterId == ChartTypes.SeizureChart
"></app-seizure-chart>

<app-fluid-intake-chart [preSelectedChartData]="selectedChartData" (EmitUpdateForm)="EmitUpdateForm($event)" *ngIf="
    ShowChildComponent == true &&
    selectedChartMasterId == ChartTypes.FluidIntakeChart
">
</app-fluid-intake-chart>
<app-fluid-output-chart [preSelectedChartData]="selectedChartData" (EmitUpdateForm)="EmitUpdateForm($event)" *ngIf="
ShowChildComponent == true &&
selectedChartMasterId == ChartTypes.FluidOutputChart
">
</app-fluid-output-chart>

<app-glasgow-coma-scale-chart [preSelectedChartData]="selectedChartData" (EmitUpdateForm)="EmitUpdateForm($event)"
    *ngIf="
ShowChildComponent == true &&
selectedChartMasterId == ChartTypes.GlasgowComaScaleChart
">
</app-glasgow-coma-scale-chart>
<app-food-intake-chart [preSelectedChartData]="selectedChartData" (EmitUpdateForm)="EmitUpdateForm($event)" *ngIf="
ShowChildComponent == true &&
selectedChartMasterId == ChartTypes.FoodIntakeChart
">
</app-food-intake-chart>
<app-repositioning-chart [preSelectedChartData]="selectedChartData" (EmitUpdateForm)="EmitUpdateForm($event)" *ngIf="
ShowChildComponent == true &&
selectedChartMasterId == ChartTypes.RepositioningChart
">
</app-repositioning-chart>
<app-restraint-chart [preSelectedChartData]="selectedChartData" (EmitUpdateForm)="EmitUpdateForm($event)" *ngIf="
ShowChildComponent == true &&
selectedChartMasterId == ChartTypes.RestraintChart
">
</app-restraint-chart>