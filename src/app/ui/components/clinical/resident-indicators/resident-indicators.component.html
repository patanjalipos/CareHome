<p-accordionTab>
    <p-header class="w-100">
        <div class="acc-tab">
            <span>Resident indicators</span>
            <div>
                <button *ngIf="mode=='view'" pButton type="button" label="Edit" class="btn btn-primary"
                    (click)="$event.stopPropagation();edit()" [disabled]="isEditable"></button>
                <button *ngIf="mode=='edit'" pButton type="button" label="Save" class="btn btn-primary"
                    (click)="$event.stopPropagation();save()"></button>
                <button *ngIf="mode=='edit'" pButton type="button" label="Cancel" class="btn btn-secondary ml-2"
                    (click)="$event.stopPropagation();close()"></button>
            </div>
        </div>
    </p-header>
    <div>
        <div class="row mb-2">
            <div class="col-auto mt-2"><label>Status</label></div>
            <div class="col-md-4">
                <p-dropdown [required]="true" [options]="stlststatus" [(ngModel)]="status"
                    (onChange)="filterResidentIndicators()" optionLabel="name" optionValue="code" placeholder="Select"
                    [style]="{width: '100%'}">
                </p-dropdown>

            </div>
            <div class="col-md-4">
                <p-dropdown [required]="true" [options]="lstResidentIndicatorGroups" [(ngModel)]="grouphead"
                    (onChange)="filterResidentIndicators()" optionLabel="groupname" optionValue="indicatorgroupmasterid"
                    placeholder="Select" [style]="{width: '100%'}">
                </p-dropdown>
            </div>

        </div>
        <p-table class="ColumnFilterTable" #dt [value]="lstResidentIndicators" [rowHover]="true"
            [globalFilterFields]="['indicatorname']" [scrollable]="true" scrollHeight="calc(100vh - 400px)"
            responsiveLayout="scroll">
            <ng-template pTemplate="emptymessage" let-columns>
                <tr>
                    <td [attr.colspan]="columns?.length">
                        No records found
                    </td>
                </tr>
            </ng-template>
            <ng-template pTemplate="header">
                <tr style="border-top:1px solid #e3e3e3">
                    <th style="width: 200px;">Resident Indicators Group</th>
                    <th style="width: 270px;">Resident Indicators</th>
                    <th style="width: 150px;">Enable for Resident</th>
                    <th style="width: 150px;">Visible in Header</th>
                </tr>
            </ng-template>
            <ng-template pTemplate="body" let-item let-i="rowIndex" let-expanded="expanded">
                <tr>
                    <td style="width: 200px;">
                        {{item.groupname}}
                    </td>
                    <td style="width: 270px;">
                        {{item.indicatorname}}
                    </td>
                    <td style="width: 150px;">
                        <span *ngIf="mode=='view'">{{item.isenable?'Enabled':'Disabled'}}</span>
                        <span *ngIf="mode=='edit'">
                            <p-checkbox (onChange)="OnEnabled(item.clinicalindicatorid)"
                                name="ChkEnable_{{i}}" [(ngModel)]="item.isenable" [binary]="true"
                                inputId="binary"></p-checkbox></span>
                    </td>
                    <td style="width: 150px;">
                        <span *ngIf="mode=='view'">{{item.isvisible?'Enabled':'Disabled'}}</span>
                        <span *ngIf="mode=='edit'">
                            <p-checkbox (onChange)="OnEnabled(item.clinicalindicatorid)"
                                name="ChkVisible_{{i}}" [(ngModel)]="item.isvisible" [binary]="true"
                                inputId="binary"></p-checkbox></span>
                    </td>
                </tr>
            </ng-template>
        </p-table>
    </div>    
</p-accordionTab>