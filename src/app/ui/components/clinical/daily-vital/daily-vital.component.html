<p-accordionTab>
    <p-header class="w-100">
        <div class="acc-tab">
            <span>Daily Vital</span>
            <div>
                <button *ngIf="mode=='view'" pButton type="button" label="Edit" class="btn btn-primary"
                    (click)="$event.stopPropagation();edit()" [disabled]="isEditable"></button>
                <button *ngIf="mode=='edit'" pButton type="button" label="Save" class="btn btn-primary"
                    (click)="$event.stopPropagation();save()"></button>
                <button *ngIf="mode=='edit'" pButton type="button" label="Cancel" class="btn btn-secondary ml-2"
                    (click)="$event.stopPropagation();close()"></button>
            </div>
        </div>
    </p-header>
    <div class="row mb-4" *ngIf="mode=='edit'">
        <div class="col-md-12">
            <p-table #dt2 [value]="[{}]" styleClass="p-datatable-striped" [rowHover]="true" [scrollable]="true"
                scrollHeight="250px" responsiveLayout="scroll">
                <ng-template pTemplate="header">
                    <tr>
                        <th>Blood Pressure (BP)</th>
                        <th>Pulse Rate</th>
                        <th>Respiration</th>
                        <th>Temperature</th>
                        <th>FBS</th>
                        <th>PPBS</th>
                        <th>RBS</th>
                    </tr>
                </ng-template>
                <ng-template pTemplate="body" let-rowData>
                    <td>
                        <input type="text" name="txt_bp" autocomplete="off" onpaste="return false" maxlength="7"
                            [(ngModel)]="Clinical.bp" placeholder="--/---" [value]="" class="form-control"
                            (keypress)="validateBP($event)">
                    </td>
                    <td>
                        <input type="text" name="txt_pr" autocomplete="off" onpaste="return false" maxlength="3"
                            [(ngModel)]="Clinical.pr" placeholder="Pulse Rate" [value]="" class="form-control"
                            (keypress)="validateNumber($event)">
                    </td>
                    <td>
                        <input type="text" name="txt_respiration" autocomplete="off" onpaste="return false"
                            maxlength="2" [(ngModel)]="Clinical.respiration" placeholder="Respiration (BPM)" [value]=""
                            class="form-control" (keypress)="validateNumber($event)">
                    </td>
                    <td>
                        <input type="text" name="txt_temp" autocomplete="off" onpaste="return false" maxlength="6"
                            [(ngModel)]="Clinical.temprature" placeholder="Â°F" [value]="" class="form-control"
                            (keypress)="validateFloat($event)">
                    </td>
                    <td>
                        <input type="text" name="txt_FBS" autocomplete="off" onpaste="return false" maxlength="6"
                            [(ngModel)]="Clinical.fbs" placeholder="FBS (mg/dl)" [value]="" class="form-control"
                            (keypress)="validateFloat($event)">
                    </td>
                    <td>
                        <input type="text" name="txt_PBPS" autocomplete="off" onpaste="return false" maxlength="6"
                            [(ngModel)]="Clinical.ppbs" placeholder="PPBS (mg/dl)" [value]="" class="form-control"
                            (keypress)="validateFloat($event)">
                    </td>
                    <td>
                        <input type="text" name="txt_RBS" autocomplete="off" onpaste="return false" maxlength="6"
                            [(ngModel)]="Clinical.rbs" placeholder="RBS (mg/dl)" [value]="" class="form-control"
                            (keypress)="validateFloat($event)">
                    </td>

                </ng-template>
            </p-table>
        </div>
    </div>
    <div class="row mb-4">
        <div class="col-md-4">
            <p-calendar (onSelect)="dateRangeChange()" [required]="true" [maxDate]="currentDate" [(ngModel)]="selecteddate"
                [ngModelOptions]="{standalone: true}" [showIcon]="true" inputId="icon"
                [dateFormat]="customDateFormat.CalendarFormat" class="iconcal"></p-calendar>
        </div>
        <div class="col-md-12">
            <p-table #dt3 [value]="lstClinicalVital" styleClass="p-datatable-striped" [rowHover]="true"
                [globalFilterFields]="['bp','pr','respiration','temprature','fbs','ppbs','rbs']" [scrollable]="true"
                scrollHeight="250px" responsiveLayout="scroll">

                <ng-template pTemplate="emptymessage" let-columns>
                    <tr>
                        <td [attr.colspan]="9">
                            No records found
                        </td>
                    </tr>
                </ng-template>
                <ng-template pTemplate="header">
                    <tr>
                        <th>Date</th>
                        <th>BP</th>
                        <th>Pulse Rate</th>
                        <th>Respiration</th>
                        <th>Temperature</th>
                        <th>FBS</th>
                        <th>PPBS</th>
                        <th>RBS</th>
                        <th *ngIf="mode=='edit'">Action</th>
                    </tr>
                </ng-template>
                <ng-template pTemplate="body" let-dt let-i="rowIndex">
                    <tr>
                        <td>{{dt.createdon|date:customDateFormat.DEF_DATE_TIME}}
                        </td>
                        <td>{{dt.bp}}</td>
                        <td>{{dt.pr}}</td>
                        <td>{{dt.respiration}}</td>
                        <td>{{dt.temprature}}</td>
                        <td>{{dt.FBS}}</td>
                        <td>{{dt.PPBS}}</td>
                        <td>{{dt.RBS}}</td>
                        <td>{{dt.BMI}}</td>
                        <td *ngIf="mode=='edit'">
                            <i (click)="deleteVitalData(dt.clinicaldailyvitalid)" matTooltip="Delete"
                                class="fa fa-trash-alt mr-2"
                                *ngIf="((currentDate | date:'yyyy-MM-dd') == (dt.createdon| date:'yyyy-MM-dd'))"></i>

                        </td>
                    </tr>
                </ng-template>
            </p-table>
        </div>
    </div>
</p-accordionTab>