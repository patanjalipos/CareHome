<div class="card">
    <div class="row">
        <div class="formheader">
            <div class="d-flex">
                <div class="col-md-4">
                    <label class="form-label"
                        ><b> Started by (Name) :</b
                        >{{ preSelectedFormData.StartedBy }}
                    </label>
                </div>
                <div class="col-md-4">
                    <label class="form-label"
                        ><b>Designation :</b
                        >{{ preSelectedFormData.StartedByDesignation }}
                    </label>
                </div>
                <div class="col-md-4">
                    <label class="form-label">
                        <b>Date/Time : </b
                        >{{
                            preSelectedFormData.StartedOn
                                | date : customDateFormat.DEF_DATE_TIME
                        }}</label
                    >
                </div>
            </div>
            <div class="d-flex">
                <div class="col-md-4">
                    <label class="form-label">
                        <b>Last entered by (Name) :</b
                        >{{ preSelectedFormData.ModifiedBy }}</label
                    >
                </div>
                <div class="col-md-4">
                    <label class="form-label">
                        <b>Designation :</b
                        >{{ preSelectedFormData.ModifiedByDesignation }}</label
                    >
                </div>
                <div class="col-md-4">
                    <label class="form-label">
                        <b>Date/Time :</b>
                        {{
                            preSelectedFormData.ModifiedOn
                                | date : customDateFormat.DEF_DATE_TIME
                        }}</label
                    >
                </div>
            </div>
        </div>

        <div class="col-md-4 mt-4">
            <div class="labelcontent">
                <p>Date of Dentist Visit / Communication</p>
            </div>
        </div>
        <div class="col-md-8 mt-4">
            <ng-container *ngIf="isEditable; else DateOfDentistVisit">
                <div class="input-group date">
                    <p-calendar
                        name="DateOfDentistVisit"
                        [showIcon]="true"
                        inputId="icon"
                        dateFormat="yy-mm-dd"
                        class="iconcal"
                        [readonlyInput]="true"
                        appendTo="body"
                        [(ngModel)]="
                            DentistVisitCommunicationFormData.DateOfDentistVisit
                        "
                    ></p-calendar>
                    <div
                        *ngIf="
                            !DentistVisitCommunicationFormData.DateOfDentistVisit
                        "
                        class="alert alert-danger"
                    >
                        Please select a date.
                    </div>
                </div>
            </ng-container>
            <ng-template #DateOfDentistVisit>
                <div>
                    {{
                        DentistVisitCommunicationFormData.DateOfDentistVisit
                            | date : customDateFormat.DEF_DATE
                    }}
                </div>
            </ng-template>
        </div>

        <div class="col-md-4">
            <div class="labelcontent">
                <p>Time of Dentist Visit / Communication</p>
            </div>
        </div>
        <div class="col-md-8 form-text">
            <ng-container *ngIf="isEditable; else TimeOfDentistVisit">
                <div class="d-flex align-items-center">
                    <input
                        pInputText
                        type="time"
                        required
                        name="timeOfDentistVisit"
                        class="form-control mr-4"
                        [style]="{ width: '35%' }"
                        [(ngModel)]="
                            DentistVisitCommunicationFormData.TimeOfDentistVisit
                        "
                    />
                    <p>Use 24 hour clock</p>
                </div>
            </ng-container>
            <ng-template #TimeOfDentistVisit>
                <div>
                    {{ DentistVisitCommunicationFormData.TimeOfDentistVisit }}
                </div>
            </ng-template>
        </div>

        <div class="col-md-4">
            <div class="labelcontent">
                <p>Duration of Dentist Visit / Communication</p>
            </div>
        </div>
        <div class="col-md-8 form-text">
            <ng-container *ngIf="isEditable; else DurationOfDentistVisit">
                <input
                    pInputText
                    type="text"
                    required
                    name="durationOfDentistVisit"
                    class="form-control"
                    [(ngModel)]="
                        DentistVisitCommunicationFormData.DurationOfDentistVisit
                    "
                />
            </ng-container>
            <ng-template #DurationOfDentistVisit>
                <div>
                    {{
                        DentistVisitCommunicationFormData.DurationOfDentistVisit
                    }}
                </div>
            </ng-template>
        </div>

        <div class="col-md-4">
            <div class="labelcontent">
                <p>Name(s) of Dentist(s)</p>
            </div>
        </div>
        <div class="col-md-8 form-text">
            <ng-container *ngIf="isEditable; else DentistNamesView">
                <input
                    pInputText
                    type="text"
                    required
                    name="dentistNames"
                    class="form-control"
                    [(ngModel)]="DentistVisitCommunicationFormData.DentistNames"
                />
                <p class="mb-4">
                    Please include full name(s) and designation(s)
                </p>
            </ng-container>
            <ng-template #DentistNamesView>
                <div>{{ DentistVisitCommunicationFormData.DentistNames }}</div>
            </ng-template>
        </div>

        <div class="col-md-4">
            <div class="labelcontent">
                <p>How was the communication relayed</p>
            </div>
        </div>
        <div class="col-md-8 form-text">
            <ng-container *ngIf="isEditable; else CommunicationRelayedView">
                <p-dropdown
                    placeholder="--select--"
                    [style]="{ width: '100%' }"
                    [(ngModel)]="
                        DentistVisitCommunicationFormData.CommunicationRelayMethod
                    "
                    optionLabel="optionName"
                    optionValue="optionId"
                    [options]="communicationRelayOptions"
                    [showClear]="true"
                    [filter]="true"
                    filterPlaceholder="Search Options"
                >
                </p-dropdown>
            </ng-container>
            <ng-template #CommunicationRelayedView>
                <div>
                    {{
                        DentistVisitCommunicationFormData.CommunicationRelayMethodName
                    }}
                </div>
            </ng-template>
        </div>

        <div class="col-md-4">
            <div class="labelcontent">
                <p>Reason for Visit / Communication</p>
            </div>
        </div>
        <div class="col-md-8 form-text">
            <ng-container *ngIf="isEditable; else ReasonView">
                <input
                    pInputText
                    type="text"
                    required
                    name="reasonForVisitCommunication"
                    class="form-control"
                    [(ngModel)]="
                        DentistVisitCommunicationFormData.ReasonForVisitCommunication
                    "
                />
            </ng-container>
            <ng-template #ReasonView>
                <div>
                    {{
                        DentistVisitCommunicationFormData.ReasonForVisitCommunication
                    }}
                </div>
            </ng-template>
        </div>

        <div class="col-md-4">
            <div class="labelcontent">
                <p>Outcome of Visit / Communication</p>
            </div>
        </div>
        <div class="col-md-8 form-text">
            <ng-container *ngIf="isEditable; else OutcomeView">
                <input
                    pInputText
                    type="text"
                    required
                    name="outcomeOfVisitCommunication"
                    class="form-control"
                    [(ngModel)]="
                        DentistVisitCommunicationFormData.OutcomeOfVisitCommunication
                    "
                />
            </ng-container>
            <ng-template #OutcomeView>
                <div>
                    {{
                        DentistVisitCommunicationFormData.OutcomeOfVisitCommunication
                    }}
                </div>
            </ng-template>
        </div>

        <div class="col-md-4">
            <div class="labelcontent">
                <p>Further action(s) / follow up(s) by Dentist</p>
            </div>
        </div>
        <div class="col-md-8 form-text">
            <ng-container *ngIf="isEditable; else DentistFollowUpView">
                <input
                    pInputText
                    type="text"
                    required
                    name="dentistFollowUp"
                    class="form-control"
                    [(ngModel)]="
                        DentistVisitCommunicationFormData.DentistFollowUp
                    "
                />
            </ng-container>
            <ng-template #DentistFollowUpView>
                <div>
                    {{ DentistVisitCommunicationFormData.DentistFollowUp }}
                </div>
            </ng-template>
        </div>

        <div class="col-md-4">
            <div class="labelcontent">
                <p>Further action(s) / follow up(s) by Care home</p>
            </div>
        </div>
        <div class="col-md-8 form-text">
            <ng-container *ngIf="isEditable; else CareHomeFollowUpView">
                <input
                    pInputText
                    type="text"
                    required
                    name="careHomeFollowUp"
                    class="form-control"
                    [(ngModel)]="
                        DentistVisitCommunicationFormData.CareHomeFollowUp
                    "
                />
            </ng-container>
            <ng-template #CareHomeFollowUpView>
                <div>
                    {{ DentistVisitCommunicationFormData.CareHomeFollowUp }}
                </div>
            </ng-template>
        </div>

        <div class="d-flex justify-content-end">
            <ng-container *ngIf="isEditable; else savePdf">
                <div>
                    <span class="p-ml-left mr-4">
                        <button
                            pButton
                            title="New"
                            label="Save as Unfinished"
                            (click)="saveAsUnfinished()"
                        ></button>
                        <span class="total-txt"></span>
                    </span>
                </div>
                <div>
                    <span class="p-ml-left mr-4">
                        <button
                            pButton
                            title="New"
                            label="Complete"
                            (click)="completeForm()"
                            [disabled]="
                                DentistVisitCommunicationFormData.IsFormCompleted
                            "
                        ></button>
                        <span class="total-txt"></span>
                    </span>
                </div>
            </ng-container>
            <ng-template #savePdf>
                <button
                    pButton
                    title="Save as PDF"
                    label="Save as PDF"
                    (click)="SaveAsPDF()"
                ></button>
            </ng-template>
        </div>
    </div>
</div>
