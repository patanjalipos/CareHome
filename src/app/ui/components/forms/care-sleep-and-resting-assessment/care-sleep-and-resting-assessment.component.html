<div class="card">
    <div class="row">
        <div class="formheader">
            <div class="d-flex">
                <div class="col-md-4">
                    <label class="form-label"><b> Started by (Name) :</b>
                        {{preSelectedFormData.StartedBy}}</label>
                </div>
                <div class="col-md-4">
                    <label class="form-label"><b>Designation :</b>{{preSelectedFormData.StartedByDesignation}} </label>
                </div>
                <div class="col-md-4">
                    <label class="form-label"> <b>Date/Time : </b>{{preSelectedFormData.StartedOn | date :
                        customDateFormat.DEF_DATE_TIME}}</label>
                </div>
            </div>
            <div class="d-flex">
                <div class="col-md-4">
                    <label class="form-label">
                        <b>Last entered by (Name) :</b>{{preSelectedFormData.ModifiedBy}}</label>
                </div>
                <div class="col-md-4">
                    <label class="form-label"> <b>Designation :</b>{{preSelectedFormData.ModifiedByDesignation}}</label>
                </div>
                <div class="col-md-4">
                    <label class="form-label"> <b>Date/Time :</b> {{preSelectedFormData.ModifiedOn | date:
                        customDateFormat.DEF_DATE_TIME}}</label>
                </div>
            </div>
        </div>
        <div class="col-md-4 mt-4">
            <div class="labelcontent">
                <p>Has the resident been assessed or assumed as having capacity to make decisions relating to sleep and
                    rest</p>
            </div>
        </div>
        <div class="col-md-7 mt-4">
            <ng-container *ngIf="this.isEditable; else Capacity">
                <p-dropdown [required]="true" [options]="lstCapacity" optionLabel="optionName"
                    [(ngModel)]="CareAssessmentSleepAndRestFormsData.capacity"
                    name="CareAssessmentSleepAndRestFormsData.Capacity" optionValue="optionId" placeholder="--select--"
                    [style]="{ width: '100%' }">
                </p-dropdown>
            </ng-container>
            <ng-template #Capacity>
                <label>{{CareAssessmentSleepAndRestFormsData.capacityName}}</label>
            </ng-template>
        </div>
        <div class="col-md-1 form-icon mt-4">
            <i class="fa-solid fa-info"></i>
        </div>
        <div class="col-md-4 ">
            <div class="labelcontent">
                <p>Detail specific decision relating to the resident's sleep and rest</p>
            </div>
        </div>
        <div class="col-md-7 form-text">
            <ng-container *ngIf="this.isEditable; else SpecificDecisionDetails">
                <input pInputText type="text" [(ngModel)]="CareAssessmentSleepAndRestFormsData.specificDecisionDetails"
                    required name="CareAssessmentSleepAndRestFormsData.SpecificDecisionDetails"
                    class="form-control mr-4" [style]="{ width: '100%' }">
                <p class="mb-4">Only answer if the resident lacks capacity, If the resident is using equipment to aid
                    sleep
                    consider
                    consent form, R/A / MCA / BID / DOLs Include sleeping system (position, equipment)</p>
            </ng-container>
            <ng-template #SpecificDecisionDetails>
                <label>{{CareAssessmentSleepAndRestFormsData.specificDecisionDetails}}</label>
            </ng-template>

        </div>
        <div class="col-md-1 form-icon">
            <i class="fa-solid fa-info"></i>
        </div>
        <div class="col-md-4 ">
            <div class="labelcontent">
                <p>Trouble sleeping</p>
            </div>
        </div>
        <div class="col-md-7">
            <ng-container *ngIf="this.isEditable; else TroubleSleeping">
                <p-dropdown [required]="true" [options]="lstTroubleSleeping" optionLabel="optionName"
                    [(ngModel)]="CareAssessmentSleepAndRestFormsData.troubleSleeping"
                    name="CareAssessmentSleepAndRestFormsData.TroubleSleeping" optionValue="optionId"
                    placeholder="--select--" [style]="{ width: '100%' }">
                </p-dropdown>
            </ng-container>
            <ng-template #TroubleSleeping>
                <label>{{CareAssessmentSleepAndRestFormsData.troubleSleepingName}}</label>
            </ng-template>
        </div>
        <div class="col-md-1 form-icon">
            <i class="fa-solid fa-info"></i>
        </div>
        <div class="col-md-4 ">
            <div class="labelcontent">
                <p>Assistance to settle / sleep</p>
            </div>
        </div>
        <div class="col-md-7">
            <ng-container *ngIf="this.isEditable; else SleepAssistance">
                <p-dropdown [required]="true" [options]="lstSleepAssistance" optionLabel="optionName"
                    [(ngModel)]="CareAssessmentSleepAndRestFormsData.sleepAssistance"
                    name="CareAssessmentSleepAndRestFormsData.SleepAssistance" optionValue="optionId"
                    placeholder="--select--" [style]="{ width: '100%' }">
                </p-dropdown>
            </ng-container>
            <ng-template #SleepAssistance>
                <label>{{CareAssessmentSleepAndRestFormsData.sleepAssistanceName}}</label>
            </ng-template>
        </div>
        <div class="col-md-1 form-icon">
            <i class="fa-solid fa-info"></i>
        </div>
        <div class="col-md-4 ">
            <div class="labelcontent">
                <p>Assistance to settle back to sleep</p>
            </div>
        </div>
        <div class="col-md-7 form-text">
            <ng-container *ngIf="this.isEditable; else SleepBackAssistance">
                <p-dropdown [required]="true" [options]="lstSleepBackAssistance" optionLabel="optionName"
                    [(ngModel)]="CareAssessmentSleepAndRestFormsData.sleepBackAssistance"
                    name="CareAssessmentSleepAndRestFormsData.SleepBackAssistance" optionValue="optionId"
                    placeholder="--select--" [style]="{ width: '100%' }">
                </p-dropdown>
                <p class="mb-4">i.e. if disturbed</p>
            </ng-container>
            <ng-template #SleepBackAssistance>
                <label>{{CareAssessmentSleepAndRestFormsData.sleepBackAssistanceName}}</label>
            </ng-template>
        </div>
        <div class="col-md-1 form-icon">
            <i class="fa-solid fa-info"></i>
        </div>
        <div class="col-md-4 ">
            <div class="labelcontent">
                <p>Assistance during the night</p>
            </div>
        </div>
        <div class="col-md-7">
            <ng-container *ngIf="this.isEditable; else NightAssistance">
                <p-dropdown [required]="true" [options]="lstNightAssistance" optionLabel="optionName"
                    [(ngModel)]="CareAssessmentSleepAndRestFormsData.nightAssistance"
                    name="CareAssessmentSleepAndRestFormsData.NightAssistance" optionValue="optionId"
                    placeholder="--select--" [style]="{ width: '100%' }">
                </p-dropdown>
            </ng-container>
            <ng-template #NightAssistance>
                <label>{{CareAssessmentSleepAndRestFormsData.nightAssistanceName}}</label>
            </ng-template>
        </div>
        <div class="col-md-1 form-icon">
            <i class="fa-solid fa-info"></i>
        </div>
        <div class="col-md-4 ">
            <div class="labelcontent">
                <p>Repositioning pattern and frequency</p>
            </div>
        </div>
        <div class="col-md-7 form-text">
            <ng-container *ngIf="this.isEditable; else PatternRepositioning">
                <input pInputText type="text" [(ngModel)]="CareAssessmentSleepAndRestFormsData.patternRepositioning"
                    required name="CareAssessmentSleepAndRestFormsData.PatternRepositioning" class="form-control mr-4"
                    [style]="{ width: '100%' }">
            </ng-container>
            <ng-template #PatternRepositioning>
                <label>{{CareAssessmentSleepAndRestFormsData.patternRepositioning}}</label>
            </ng-template>
        </div>
        <div class="col-md-1 form-icon">
            <i class="fa-solid fa-info"></i>
        </div>
        <div class="col-md-4 ">
            <div class="labelcontent">
                <p>What is the residents pre bedtime routine</p>
            </div>
        </div>
        <div class="col-md-7 form-text">
            <ng-container *ngIf="this.isEditable; else PreBedtimeRoutine">
                <input pInputText type="text" [(ngModel)]="CareAssessmentSleepAndRestFormsData.preBedtimeRoutine"
                    required name="CareAssessmentSleepAndRestFormsData.PreBedtimeRoutine" class="form-control mr-4"
                    [style]="{ width: '100%' }">
                <p class="mb-4">Preferred bedtime, TV, chat, read etc.</p>
            </ng-container>
            <ng-template #PreBedtimeRoutine>
                <label>{{CareAssessmentSleepAndRestFormsData.preBedtimeRoutine}}</label>
            </ng-template>

        </div>
        <div class="col-md-1 form-icon">
            <i class="fa-solid fa-info"></i>
        </div>
        <div class="col-md-4">
            <div class="labelcontent">
                <p>Naps / rest during day</p>
            </div>
        </div>
        <div class="col-md-7 form-text">
            <ng-container *ngIf="this.isEditable; else Naps">
                <input pInputText type="text" [(ngModel)]="CareAssessmentSleepAndRestFormsData.naps" required
                    name="CareAssessmentSleepAndRestFormsData.Naps" class="form-control mr-4"
                    [style]="{ width: '100%' }">
                <p class="mb-4">Describe afternoon routine / pattern. Include professional advice e.g. lies on bed in
                    afternoon to
                    relieve pressure</p>
            </ng-container>
            <ng-template #Naps>
                <label>{{CareAssessmentSleepAndRestFormsData.naps}}</label>
            </ng-template>

        </div>
        <div class="col-md-1 form-icon">
            <i class="fa-solid fa-info"></i>
        </div>
        <div class="col-md-4 ">
            <div class="labelcontent">
                <p>Preferred morning / waking routine</p>
            </div>
        </div>
        <div class="col-md-7 form-text">
            <ng-container *ngIf="this.isEditable; else MorningRoutine">
                <input pInputText type="text" [(ngModel)]="CareAssessmentSleepAndRestFormsData.morningRoutine" required
                    name="CareAssessmentSleepAndRestFormsData.MorningRoutine" class="form-control mr-4"
                    [style]="{ width: '100%' }">
                <p class="mb-4">Preferred time to get up, tea in bed, chat, watch TV, read</p>
            </ng-container>
            <ng-template #MorningRoutine>
                <label>{{CareAssessmentSleepAndRestFormsData.morningRoutine}}</label>
            </ng-template>

        </div>
        <div class="col-md-1 form-icon">
            <i class="fa-solid fa-info"></i>
        </div>
        <div class="col-md-4 ">
            <div class="labelcontent">
                <p>Goals the resident wishes to achieve</p>
            </div>
        </div>
        <div class="col-md-7">
            <ng-container *ngIf="this.isEditable; else GoalsToAchieve">
                <p-dropdown [required]="true" [options]="lstGoalsToAchieve" optionLabel="optionName"
                    [(ngModel)]="CareAssessmentSleepAndRestFormsData.goalsToAchieve"
                    name="CareAssessmentSleepAndRestFormsData.GoalsToAchieve" optionValue="optionId"
                    placeholder="--select--" [style]="{ width: '100%' }">
                </p-dropdown>
            </ng-container>
            <ng-template #GoalsToAchieve>
                <label>{{CareAssessmentSleepAndRestFormsData.goalsToAchieveName}}</label>
            </ng-template>
        </div>
        <div class="col-md-1 form-icon">
            <i class="fa-solid fa-info"></i>
        </div>
        <div class="col-md-4 ">
            <div class="labelcontent">
                <p>Does the resident have a specific goal personal to them</p>
            </div>
        </div>
        <div class="col-md-7">
            <ng-container *ngIf="this.isEditable; else PersonalSpecificGoal">
                <input pInputText type="text" [(ngModel)]="CareAssessmentSleepAndRestFormsData.personalSpecificGoal"
                    required name="CareAssessmentSleepAndRestFormsData.PersonalSpecificGoal" class="form-control mr-4"
                    [style]="{ width: '100%' }">
            </ng-container>
            <ng-template #PersonalSpecificGoal>
                <label>{{CareAssessmentSleepAndRestFormsData.personalSpecificGoal}}</label>
            </ng-template>
        </div>
        <div class="col-md-1 form-icon">
            <i class="fa-solid fa-info"></i>
        </div>
        <div class="col-md-4 ">
            <div class="labelcontent">
                <p>Strategies to manage checking the resident</p>
            </div>
        </div>
        <div class="col-md-7">
            <ng-container *ngIf="this.isEditable; else StrategyToManageCheck">
                <p-dropdown [required]="true" [options]="lstStrategyToManageCheck" optionLabel="optionName"
                    [(ngModel)]="CareAssessmentSleepAndRestFormsData.strategyToManageCheck"
                    name="CareAssessmentSleepAndRestFormsData.StrategyToManageCheck" optionValue="optionId"
                    placeholder="--select--" [style]="{ width: '100%' }">
                </p-dropdown>
            </ng-container>
            <ng-template #StrategyToManageCheck>
                <label>{{CareAssessmentSleepAndRestFormsData.strategyToManageCheckName}}</label>
            </ng-template>
        </div>
        <div class="col-md-1 form-icon">
            <i class="fa-solid fa-info"></i>
        </div>
        <div class="col-md-4 ">
            <div class="labelcontent">
                <p>Additional information</p>
            </div>
        </div>
        <div class="col-md-7">
            <ng-container *ngIf="this.isEditable; else AdditionalInfo">
                <input pInputText type="text" [(ngModel)]="CareAssessmentSleepAndRestFormsData.additionalInfo" required
                    name="CareAssessmentSleepAndRestFormsData.AdditionalInfo" class="form-control mr-4"
                    [style]="{ width: '100%' }">
            </ng-container>
            <ng-template #AdditionalInfo>
                <label>{{CareAssessmentSleepAndRestFormsData.additionalInfo}}</label>
            </ng-template>
        </div>
        <div class="col-md-1 form-icon">
            <i class="fa-solid fa-info"></i>
        </div>
        <div class="col-md-4 ">
            <div class="labelcontent">
                <p>Are there any other identified risks relating to sleep & res</p>
            </div>
        </div>
        <div class="col-md-7 form-text">
            <ng-container *ngIf="this.isEditable; else OtherIdentifiedRisks">
                <input pInputText type="text" [(ngModel)]="CareAssessmentSleepAndRestFormsData.otherIdentifiedRisks"
                    required name="CareAssessmentSleepAndRestFormsData.OtherIdentifiedRisks" class="form-control mr-4"
                    [style]="{ width: '100%' }">
                <p class="mb-4">Specify any other risks that have not been identified above</p>
            </ng-container>
            <ng-template #OtherIdentifiedRisks>
                <label>{{CareAssessmentSleepAndRestFormsData.otherIdentifiedRisks}}</label>
            </ng-template>
        </div>
        <div class="col-md-1 form-icon">
            <i class="fa-solid fa-info"></i>
        </div>
        <div class="col-md-4 ">
            <div class="labelcontent">
                <p>Action to manage additional identified risk/s</p>
            </div>
        </div>

        <div class="col-md-7 form-text">
            <ng-container *ngIf="this.isEditable; else ActionToManageAdditionalRisk">
                <input pInputText type="text"
                    [(ngModel)]="CareAssessmentSleepAndRestFormsData.actionToManageAdditionalRisk" required
                    name="CareAssessmentSleepAndRestFormsData.ActionToManageAdditionalRisk" class="form-control "
                    [style]="{ width: '100%' }">
            </ng-container>
            <ng-template #ActionToManageAdditionalRisk>
                <label>{{CareAssessmentSleepAndRestFormsData.actionToManageAdditionalRisk}}</label>
            </ng-template>
        </div>
        <div class="col-md-1 form-icon">
            <i class="fa-solid fa-info"></i>
        </div>
        <div class="col-md-4 ">
            <div class="labelcontent implabel">
                <p>MONTHLY REVIEW (or before)</p>
            </div>
        </div>

        <div class="col-md-7 form-text">
            <ng-container *ngIf="this.isEditable; else MonthlyReview">
                <p-checkbox class="mb-4" [(ngModel)]="CareAssessmentSleepAndRestFormsData.monthlyReview" [binary]="true"
                    inputId="binary"></p-checkbox>
                <p class="mb-4">This form should be reviewed EVERY MONTH or before if there are significant changes.
                    Enter review date
                    below.</p>
            </ng-container>
            <ng-template #MonthlyReview>
                <label>{{CareAssessmentSleepAndRestFormsData.monthlyReview==true?'yes':'no'}}</label>
            </ng-template>

        </div>
        <div class="col-md-4">
            <div class="labelcontent">
                <p>Next review date</p>
            </div>
        </div>
        <div class="col-md-7">
            <div class="input-group date">
                <ng-container *ngIf="this.isEditable; else ReviewDate">
                    <p-calendar name="CareAssessmentSleepAndRestFormsData.reviewDate" [showIcon]="true" inputId="icon"
                        class="iconcal" [(ngModel)]="CareAssessmentSleepAndRestFormsData.reviewDate"
                        [readonlyInput]="true" appendTo="body" [maxDate]="" #dobref=""></p-calendar>
                    <div *ngIf="" class="alert alert-danger">
                    </div>
                </ng-container>
                <ng-template #ReviewDate>
                    <label>{{CareAssessmentSleepAndRestFormsData.reviewDate | date}}</label>
                </ng-template>
            </div>
        </div>
        <div class="d-flex justify-content-end">
            <ng-container *ngIf="isEditable; else savePdf">
                <div>
                    <span class="p-ml-left mr-4">
                        <button pButton title="New" label="Save as Unfinished" (click)="saveAsUnfinished()"></button>
                        <span class="total-txt"></span>
                    </span>
                </div>
                <div>
                    <span class="p-ml-left mr-4">
                        <button pButton title="New" label="Complete" (click)="completeForm()" [disabled]="
                                CareAssessmentSleepAndRestFormsData.isFormCompleted
                            "></button>
                        <span class="total-txt"></span>
                    </span>
                </div>
            </ng-container>
            <ng-template #savePdf>
                <button pButton title="Save as PDF" label="Save as PDF" (click)="SaveAsPDF()"></button>
            </ng-template>
        </div>
    </div>
</div>